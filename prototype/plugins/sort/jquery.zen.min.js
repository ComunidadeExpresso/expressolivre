var _=(function(){var v=this;var j=v._;var D={};var C=Array.prototype,f=Object.prototype,q=Function.prototype;var m=C.slice,z=C.unshift,c=f.toString,h=f.hasOwnProperty;var L=C.forEach,o=C.map,E=C.reduce,b=C.reduceRight,a=C.filter,A=C.every,n=C.some,l=C.indexOf,k=C.lastIndexOf,s=Array.isArray,e=Object.keys,F=q.bind;var M=function(p){return new t(p)};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=M}exports._=M}else{v._=M}M.VERSION="1.3.3";var I=M.each=M.forEach=function(R,Q,P){if(R==null){return}if(L&&R.forEach===L){R.forEach(Q,P)}else{if(R.length===+R.length){for(var O=0,p=R.length;O<p;O++){if(O in R&&Q.call(P,R[O],O,R)===D){return}}}else{for(var N in R){if(M.has(R,N)){if(Q.call(P,R[N],N,R)===D){return}}}}}};M.map=M.collect=function(P,O,N){var p=[];if(P==null){return p}if(o&&P.map===o){return P.map(O,N)}I(P,function(S,Q,R){p[p.length]=O.call(N,S,Q,R)});if(P.length===+P.length){p.length=P.length}return p};M.reduce=M.foldl=M.inject=function(Q,P,p,O){var N=arguments.length>2;if(Q==null){Q=[]}if(E&&Q.reduce===E){if(O){P=M.bind(P,O)}return N?Q.reduce(P,p):Q.reduce(P)}I(Q,function(T,R,S){if(!N){p=T;N=true}else{p=P.call(O,p,T,R,S)}});if(!N){throw new TypeError("Reduce of empty array with no initial value")}return p};M.reduceRight=M.foldr=function(Q,P,p,O){var N=arguments.length>2;if(Q==null){Q=[]}if(b&&Q.reduceRight===b){if(O){P=M.bind(P,O)}return N?Q.reduceRight(P,p):Q.reduceRight(P)}var R=M.toArray(Q).reverse();if(O&&!N){P=M.bind(P,O)}return N?M.reduce(R,P,p,O):M.reduce(R,P)};M.find=M.detect=function(P,O,N){var p;y(P,function(S,Q,R){if(O.call(N,S,Q,R)){p=S;return true}});return p};M.filter=M.select=function(P,O,N){var p=[];if(P==null){return p}if(a&&P.filter===a){return P.filter(O,N)}I(P,function(S,Q,R){if(O.call(N,S,Q,R)){p[p.length]=S}});return p};M.reject=function(P,O,N){var p=[];if(P==null){return p}I(P,function(S,Q,R){if(!O.call(N,S,Q,R)){p[p.length]=S}});return p};M.every=M.all=function(P,O,N){var p=true;if(P==null){return p}if(A&&P.every===A){return P.every(O,N)}I(P,function(S,Q,R){if(!(p=p&&O.call(N,S,Q,R))){return D}});return !!p};var y=M.some=M.any=function(P,O,N){O||(O=M.identity);var p=false;if(P==null){return p}if(n&&P.some===n){return P.some(O,N)}I(P,function(S,Q,R){if(p||(p=O.call(N,S,Q,R))){return D}});return !!p};M.include=M.contains=function(O,N){var p=false;if(O==null){return p}if(l&&O.indexOf===l){return O.indexOf(N)!=-1}p=y(O,function(P){return P===N});return p};M.invoke=function(N,O){var p=m.call(arguments,2);return M.map(N,function(P){return(M.isFunction(O)?O||P:P[O]).apply(P,p)})};M.pluck=function(N,p){return M.map(N,function(O){return O[p]})};M.max=function(P,O,N){if(!O&&M.isArray(P)&&P[0]===+P[0]){return Math.max.apply(Math,P)}if(!O&&M.isEmpty(P)){return -Infinity}var p={computed:-Infinity};I(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R>=p.computed&&(p={value:T,computed:R})});return p.value};M.min=function(P,O,N){if(!O&&M.isArray(P)&&P[0]===+P[0]){return Math.min.apply(Math,P)}if(!O&&M.isEmpty(P)){return Infinity}var p={computed:Infinity};I(P,function(T,Q,S){var R=O?O.call(N,T,Q,S):T;R<p.computed&&(p={value:T,computed:R})});return p.value};M.shuffle=function(O){var p=[],N;I(O,function(R,P,Q){N=Math.floor(Math.random()*(P+1));p[P]=p[N];p[N]=R});return p};M.sortBy=function(O,P,p){var N=M.isFunction(P)?P:function(Q){return Q[P]};return M.pluck(M.map(O,function(S,Q,R){return{value:S,criteria:N.call(p,S,Q,R)}}).sort(function(T,S){var R=T.criteria,Q=S.criteria;if(R===void 0){return 1}if(Q===void 0){return -1}return R<Q?-1:R>Q?1:0}),"value")};M.groupBy=function(O,P){var p={};var N=M.isFunction(P)?P:function(Q){return Q[P]};I(O,function(S,Q){var R=N(S,Q);(p[R]||(p[R]=[])).push(S)});return p};M.sortedIndex=function(R,Q,O){O||(O=M.identity);var p=0,P=R.length;while(p<P){var N=(p+P)>>1;O(R[N])<O(Q)?p=N+1:P=N}return p};M.toArray=function(p){if(!p){return[]}if(M.isArray(p)){return m.call(p)}if(M.isArguments(p)){return m.call(p)}if(p.toArray&&M.isFunction(p.toArray)){return p.toArray()}return M.values(p)};M.size=function(p){return M.isArray(p)?p.length:M.keys(p).length};M.first=M.head=M.take=function(O,N,p){return(N!=null)&&!p?m.call(O,0,N):O[0]};M.initial=function(O,N,p){return m.call(O,0,O.length-((N==null)||p?1:N))};M.last=function(O,N,p){if((N!=null)&&!p){return m.call(O,Math.max(O.length-N,0))}else{return O[O.length-1]}};M.rest=M.tail=function(O,p,N){return m.call(O,(p==null)||N?1:p)};M.compact=function(p){return M.filter(p,function(N){return !!N})};M.flatten=function(N,p){return M.reduce(N,function(O,P){if(M.isArray(P)){return O.concat(p?P:M.flatten(P))}O[O.length]=P;return O},[])};M.without=function(p){return M.difference(p,m.call(arguments,1))};M.uniq=M.unique=function(Q,P,O){var p=O?M.map(Q,O):Q;var N=[];if(Q.length<3){P=true}M.reduce(p,function(R,T,S){if(P?M.last(R)!==T||!R.length:!M.include(R,T)){R.push(T);N.push(Q[S])}return R},[]);return N};M.union=function(){return M.uniq(M.flatten(arguments,true))};M.intersection=M.intersect=function(N){var p=m.call(arguments,1);return M.filter(M.uniq(N),function(O){return M.every(p,function(P){return M.indexOf(P,O)>=0})})};M.difference=function(N){var p=M.flatten(m.call(arguments,1),true);return M.filter(N,function(O){return !M.include(p,O)})};M.zip=function(){var p=m.call(arguments);var P=M.max(M.pluck(p,"length"));var O=new Array(P);for(var N=0;N<P;N++){O[N]=M.pluck(p,""+N)}return O};M.indexOf=function(Q,O,P){if(Q==null){return -1}var N,p;if(P){N=M.sortedIndex(Q,O);return Q[N]===O?N:-1}if(l&&Q.indexOf===l){return Q.indexOf(O)}for(N=0,p=Q.length;N<p;N++){if(N in Q&&Q[N]===O){return N}}return -1};M.lastIndexOf=function(O,N){if(O==null){return -1}if(k&&O.lastIndexOf===k){return O.lastIndexOf(N)}var p=O.length;while(p--){if(p in O&&O[p]===N){return p}}return -1};M.range=function(R,P,Q){if(arguments.length<=1){P=R||0;R=0}Q=arguments[2]||1;var N=Math.max(Math.ceil((P-R)/Q),0);var p=0;var O=new Array(N);while(p<N){O[p++]=R;R+=Q}return O};var G=function(){};M.bind=function d(P,N){var O,p;if(P.bind===F&&F){return F.apply(P,m.call(arguments,1))}if(!M.isFunction(P)){throw new TypeError}p=m.call(arguments,2);return O=function(){if(!(this instanceof O)){return P.apply(N,p.concat(m.call(arguments)))}G.prototype=P.prototype;var R=new G;var Q=P.apply(R,p.concat(m.call(arguments)));if(Object(Q)===Q){return Q}return R}};M.bindAll=function(N){var p=m.call(arguments,1);if(p.length==0){p=M.functions(N)}I(p,function(O){N[O]=M.bind(N[O],N)});return N};M.memoize=function(O,N){var p={};N||(N=M.identity);return function(){var P=N.apply(this,arguments);return M.has(p,P)?p[P]:(p[P]=O.apply(this,arguments))}};M.delay=function(N,O){var p=m.call(arguments,2);return setTimeout(function(){return N.apply(null,p)},O)};M.defer=function(p){return M.delay.apply(M,[p,1].concat(m.call(arguments,1)))};M.throttle=function(O,P){var N,R,S,T,Q,U;var p=M.debounce(function(){Q=T=false},P);return function(){N=this;R=arguments;var V=function(){S=null;if(Q){O.apply(N,R)}p()};if(!S){S=setTimeout(V,P)}if(T){Q=true}else{U=O.apply(N,R)}p();T=true;return U}};M.debounce=function(N,P,p){var O;return function(){var S=this,R=arguments;var Q=function(){O=null;if(!p){N.apply(S,R)}};if(p&&!O){N.apply(S,R)}clearTimeout(O);O=setTimeout(Q,P)}};M.once=function(O){var p=false,N;return function(){if(p){return N}p=true;return N=O.apply(this,arguments)}};M.wrap=function(p,N){return function(){var O=[p].concat(m.call(arguments,0));return N.apply(this,O)}};M.compose=function(){var p=arguments;return function(){var N=arguments;for(var O=p.length-1;O>=0;O--){N=[p[O].apply(this,N)]}return N[0]}};M.after=function(N,p){if(N<=0){return p()}return function(){if(--N<1){return p.apply(this,arguments)}}};M.keys=e||function(O){if(O!==Object(O)){throw new TypeError("Invalid object")}var N=[];for(var p in O){if(M.has(O,p)){N[N.length]=p}}return N};M.values=function(p){return M.map(p,M.identity)};M.functions=M.methods=function(O){var N=[];for(var p in O){if(M.isFunction(O[p])){N.push(p)}}return N.sort()};M.extend=function(p){I(m.call(arguments,1),function(N){for(var O in N){p[O]=N[O]}});return p};M.pick=function(N){var p={};I(M.flatten(m.call(arguments,1)),function(O){if(O in N){p[O]=N[O]}});return p};M.defaults=function(p){I(m.call(arguments,1),function(N){for(var O in N){if(p[O]==null){p[O]=N[O]}}});return p};M.clone=function(p){if(!M.isObject(p)){return p}return M.isArray(p)?p.slice():M.extend({},p)};M.tap=function(N,p){p(N);return N};function J(P,O,N){if(P===O){return P!==0||1/P==1/O}if(P==null||O==null){return P===O}if(P._chain){P=P._wrapped}if(O._chain){O=O._wrapped}if(P.isEqual&&M.isFunction(P.isEqual)){return P.isEqual(O)}if(O.isEqual&&M.isFunction(O.isEqual)){return O.isEqual(P)}var S=c.call(P);if(S!=c.call(O)){return false}switch(S){case"[object String]":return P==String(O);case"[object Number]":return P!=+P?O!=+O:(P==0?1/P==1/O:P==+O);case"[object Date]":case"[object Boolean]":return +P==+O;case"[object RegExp]":return P.source==O.source&&P.global==O.global&&P.multiline==O.multiline&&P.ignoreCase==O.ignoreCase}if(typeof P!="object"||typeof O!="object"){return false}var T=N.length;while(T--){if(N[T]==P){return true}}N.push(P);var R=0,p=true;if(S=="[object Array]"){R=P.length;p=R==O.length;if(p){while(R--){if(!(p=R in P==R in O&&J(P[R],O[R],N))){break}}}}else{if("constructor" in P!="constructor" in O||P.constructor!=O.constructor){return false}for(var Q in P){if(M.has(P,Q)){R++;if(!(p=M.has(O,Q)&&J(P[Q],O[Q],N))){break}}}if(p){for(Q in O){if(M.has(O,Q)&&!(R--)){break}}p=!R}}N.pop();return p}M.isEqual=function(N,p){return J(N,p,[])};M.isEmpty=function(N){if(N==null){return true}if(M.isArray(N)||M.isString(N)){return N.length===0}for(var p in N){if(M.has(N,p)){return false}}return true};M.isElement=function(p){return !!(p&&p.nodeType==1)};M.isArray=s||function(p){return c.call(p)=="[object Array]"};M.isObject=function(p){return p===Object(p)};M.isArguments=function(p){return c.call(p)=="[object Arguments]"};if(!M.isArguments(arguments)){M.isArguments=function(p){return !!(p&&M.has(p,"callee"))}}M.isFunction=function(p){return c.call(p)=="[object Function]"};M.isString=function(p){return c.call(p)=="[object String]"};M.isNumber=function(p){return c.call(p)=="[object Number]"};M.isFinite=function(p){return M.isNumber(p)&&isFinite(p)};M.isNaN=function(p){return p!==p};M.isBoolean=function(p){return p===true||p===false||c.call(p)=="[object Boolean]"};M.isDate=function(p){return c.call(p)=="[object Date]"};M.isRegExp=function(p){return c.call(p)=="[object RegExp]"};M.isNull=function(p){return p===null};M.isUndefined=function(p){return p===void 0};M.has=function(N,p){return h.call(N,p)};M.noConflict=function(){v._=j;return this};M.identity=function(p){return p};M.times=function(P,O,N){for(var p=0;p<P;p++){O.call(N,p)}};M.escape=function(p){return(""+p).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};M.result=function(p,O){if(p==null){return null}var N=p[O];return M.isFunction(N)?N.call(p):N};M.mixin=function(p){I(M.functions(p),function(N){w(N,M[N]=p[N])})};var x=0;M.uniqueId=function(p){var N=x++;return p?p+N:N};M.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var u=/.^/;var g={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var H in g){g[g[H]]=H}var i=/\\|'|\r|\n|\t|\u2028|\u2029/g;var B=/\\(\\|'|r|n|t|u2028|u2029)/g;var K=function(p){return p.replace(B,function(N,O){return g[O]})};M.template=function(R,Q,O){O=M.defaults(O||{},M.templateSettings);var P="__p+='"+R.replace(i,function(S){return"\\"+g[S]}).replace(O.escape||u,function(S,T){return"'+\n_.escape("+K(T)+")+\n'"}).replace(O.interpolate||u,function(S,T){return"'+\n("+K(T)+")+\n'"}).replace(O.evaluate||u,function(S,T){return"';\n"+K(T)+"\n;__p+='"})+"';\n";if(!O.variable){P="with(obj||{}){\n"+P+"}\n"}P="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+P+"return __p;\n";var N=new Function(O.variable||"obj","_",P);if(Q){return N(Q,M)}var p=function(S){return N.call(this,S,M)};p.source="function("+(O.variable||"obj")+"){\n"+P+"}";return p};M.chain=function(p){return M(p).chain()};var t=function(p){this._wrapped=p};M.prototype=t.prototype;var r=function(N,p){return p?M(N).chain():N};var w=function(p,N){t.prototype[p]=function(){var O=m.call(arguments);z.call(O,this._wrapped);return r(N.apply(M,O),this._chain)}};M.mixin(M);I(["pop","push","reverse","shift","sort","splice","unshift"],function(p){var N=C[p];t.prototype[p]=function(){var O=this._wrapped;N.apply(O,arguments);var P=O.length;if((p=="shift"||p=="splice")&&P===0){delete O[0]}return r(O,this._chain)}});I(["concat","join","slice"],function(p){var N=C[p];t.prototype[p]=function(){return r(N.apply(this._wrapped,arguments),this._chain)}});t.prototype.chain=function(){this._chain=true;return this};t.prototype.value=function(){return this._wrapped};return M}).call({});var emmet=(function(b){var d="html";var h="plain";if(typeof _=="undefined"){try{_=b[["require"][0]]("underscore")}catch(g){}}if(typeof _=="undefined"){throw"Cannot access to Underscore.js lib"}var c={_:_};var j=function(){};function i(k,e,l){var m;if(e&&e.hasOwnProperty("constructor")){m=e.constructor}else{m=function(){k.apply(this,arguments)}}_.extend(m,k);j.prototype=k.prototype;m.prototype=new j();if(e){_.extend(m.prototype,e)}if(l){_.extend(m,l)}m.prototype.constructor=m;m.__super__=k.prototype;return m}var f=null;function a(e){if(!(e in c)&&f){f(e)}return c[e]}return{define:function(k,e){if(!(k in c)){c[k]=_.isFunction(e)?this.exec(e):e}},require:a,exec:function(k,e){return k.call(e||b,_.bind(a,this),_,this)},extend:function(e,k){var l=i(this,e,k);l.extend=this.extend;if(e.hasOwnProperty("toString")){l.prototype.toString=e.toString}return l},expandAbbreviation:function(r,n,m,q){if(!r){return""}n=n||d;var l=a("filters");var k=a("abbreviationParser");m=a("profile").get(m,n);a("tabStops").resetTabstopIndex();var p=l.extractFromAbbreviation(r);var o=k.parse(p[0],{syntax:n,contextNode:q});var e=l.composeList(n,m,p[1]);l.apply(o,e,m);return o.toString()},defaultSyntax:function(){return d},defaultProfile:function(){return h},log:function(){if(b.console&&b.console.log){b.console.log.apply(b.console,arguments)}},setModuleLoader:function(e){f=e}}})(this);if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=emmet}exports.emmet=emmet}if(typeof define!=="undefined"){define(emmet)}emmet.define("abbreviationParser",function(h,s){var f=/^[\w\-\$\:@\!%]+\+?$/i;var g=/[\w\-:\$@]/;var t={"[":"]","(":")","{":"}"};var q=Array.prototype.splice;var e=[];var c=[];var i=[];function k(u){this.parent=null;this.children=[];this._attributes=[];this.abbreviation="";this.counter=1;this._name=null;this._text="";this.repeatCount=1;this.hasImplicitRepeat=false;this._data={};this.start="";this.end="";this.content="";this.padding=""}k.prototype={addChild:function(v,u){v=v||new k;v.parent=this;if(s.isUndefined(u)){this.children.push(v)}else{this.children.splice(u,0,v)}return v},clone:function(){var v=new k();var u=["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"];s.each(u,function(w){v[w]=this[w]},this);v._attributes=s.map(this._attributes,function(w){return s.clone(w)});v._data=s.clone(this._data);v.children=s.map(this.children,function(w){w=w.clone();w.parent=v;return w});return v},remove:function(){if(this.parent){this.parent.children=s.without(this.parent.children,this)}return this},replace:function(){var w=this.parent;var u=s.indexOf(w.children,this);var v=s.flatten(arguments);q.apply(w.children,[u,1].concat(v));s.each(v,function(x){x.parent=w})},updateProperty:function(u,v){this[u]=v;s.each(this.children,function(w){w.updateProperty(u,v)});return this},find:function(u){return this.findAll(u)[0]},findAll:function(v){if(!s.isFunction(v)){var w=v.toLowerCase();v=function(x){return x.name().toLowerCase()==w}}var u=[];s.each(this.children,function(x){if(v(x)){u.push(x)}u=u.concat(x.findAll(v))});return s.compact(u)},data:function(u,v){if(arguments.length==2){this._data[u]=v;if(u=="resource"&&h("elements").is(v,"snippet")){this.content=v.data;if(this._text){this.content=h("abbreviationUtils").insertChildContent(v.data,this._text)}}}return this._data[u]},name:function(){var u=this.matchedResource();if(h("elements").is(u,"element")){return u.name}return this._name},attributeList:function(){var u=[];var v=this.matchedResource();if(h("elements").is(v,"element")&&s.isArray(v.attributes)){u=u.concat(v.attributes)}return m(u.concat(this._attributes))},attribute:function(v,w){if(arguments.length==2){var u=s.indexOf(s.pluck(this._attributes,"name"),v.toLowerCase());if(~u){this._attributes[u].value=w}else{this._attributes.push({name:v,value:w})}}return(s.find(this.attributeList(),function(x){return x.name==v})||{}).value},matchedResource:function(){return this.data("resource")},index:function(){return this.parent?s.indexOf(this.parent.children,this):-1},_setRepeat:function(u){if(u){this.repeatCount=parseInt(u,10)||1}else{this.hasImplicitRepeat=true}},setAbbreviation:function(u){u=u||"";var w=this;u=u.replace(/\*(\d+)?$/,function(z,y){w._setRepeat(y);return""});this.abbreviation=u;var x=l(u);if(x){u=x.element;this.content=this._text=x.text}var v=j(u);if(v){u=v.element;this._attributes=v.attributes}this._name=u;if(this._name&&!f.test(this._name)){throw"Invalid abbreviation"}},toString:function(){var v=h("utils");var z=this.start;var u=this.end;var x=this.content;var w=this;s.each(i,function(A){z=A(z,w,"start");x=A(x,w,"content");u=A(u,w,"end")});var y=s.map(this.children,function(A){return A.toString()}).join("");x=h("abbreviationUtils").insertChildContent(x,y,{keepVariable:false});return z+v.padString(x,this.padding)+u},hasEmptyChildren:function(){return !!s.find(this.children,function(u){return u.isEmpty()})},hasImplicitName:function(){return !this._name&&!this.isTextNode()},isGroup:function(){return !this.abbreviation},isEmpty:function(){return !this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return !this.name()&&!this.attributeList().length},isElement:function(){return !this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length){return null}var u=this;while(u.children.length){u=s.last(u.children)}return u}};function n(u){return u.substring(1,u.length-1)}function p(w,u){var v;while(v=w.next()){if(v===u){return true}if(v=="\\"){continue}}return false}function a(B){B=h("utils").trim(B);var x=new k;var w=x.addChild(),u;var z=h("stringStream").create(B);var v=1000,A;while(!z.eol()&&--v>0){u=z.peek();switch(u){case"(":z.start=z.pos;if(z.skipToPair("(",")")){var C=a(n(z.current()));if(A=z.match(/^\*(\d+)?/,true)){w._setRepeat(A[1])}s.each(C.children,function(D){w.addChild(D)})}else{throw'Invalid abbreviation: mo matching ")" found for character at '+z.pos}break;case">":w=w.addChild();z.next();break;case"+":w=w.parent.addChild();z.next();break;case"^":var y=w.parent||w;w=(y.parent||y).addChild();z.next();break;default:z.start=z.pos;z.eatWhile(function(E){if(E=="["||E=="{"){if(z.skipToPair(E,t[E])){z.backUp(1);return true}throw'Invalid abbreviation: mo matching "'+t[E]+'" found for character at '+z.pos}if(E=="+"){z.next();var D=z.eol()||~"+>^*".indexOf(z.peek());z.backUp(1);return D}return E!="("&&d(E)});w.setAbbreviation(z.current());z.start=z.pos}}if(v<1){throw"Endless loop detected"}return x}function o(x,w){x=h("utils").trim(x);var u=[];var A=h("stringStream").create(x);A.eatSpace();while(!A.eol()){A.start=A.pos;if(A.eatWhile(g)){var y=A.current();var z="";if(A.peek()=="="){A.next();A.start=A.pos;var v=A.peek();if(v=='"'||v=="'"){A.next();if(p(A,v)){z=A.current();z=z.substring(1,z.length-1)}else{throw"Invalid attribute value"}}else{if(A.eatWhile(/[^\s\]]/)){z=A.current()}else{throw"Invalid attribute value"}}}u.push({name:y,value:z});A.eatSpace()}else{break}}return u}function j(x){var u=[];var v={"#":"id",".":"class"};var w=null;var z=h("stringStream").create(x);while(!z.eol()){switch(z.peek()){case"#":case".":if(w===null){w=z.pos}var y=v[z.peek()];z.next();z.start=z.pos;z.eatWhile(g);u.push({name:y,value:z.current()});break;case"[":if(w===null){w=z.pos}z.start=z.pos;if(!z.skipToPair("[","]")){throw"Invalid attribute set definition"}u=u.concat(o(n(z.current())));break;default:z.next()}}if(!u.length){return null}return{element:x.substring(0,w),attributes:m(u)}}function m(u){u=s.map(u,function(w){return s.clone(w)});var v={};return s.filter(u,function(w){if(!(w.name in v)){return v[w.name]=w}var x=v[w.name];if(w.name.toLowerCase()=="class"){x.value+=(x.value.length?" ":"")+w.value}else{x.value=w.value}return false})}function l(u){if(!~u.indexOf("{")){return null}var v=h("stringStream").create(u);while(!v.eol()){switch(v.peek()){case"[":case"(":v.skipToPair(v.peek(),t[v.peek()]);break;case"{":v.start=v.pos;v.skipToPair("{","}");return{element:u.substring(0,v.start),text:n(v.current())};default:v.next()}}}function b(w){for(var v=w.children.length-1,u,y,x;v>=0;v--){y=w.children[v];if(y.isRepeating()){x=u=y.repeatCount;y.repeatCount=1;y.updateProperty("counter",1);y.updateProperty("maxCount",x);while(--u>0){y.parent.addChild(y.clone(),v+1).updateProperty("counter",u+1).updateProperty("maxCount",x)}}}s.each(w.children,b);return w}function r(v){for(var u=v.children.length-1;u>=0;u--){var w=v.children[u];if(w.isGroup()){w.replace(r(w).children)}else{if(w.isEmpty()){w.remove()}}}s.each(v.children,r);return v}function d(w){var v=w.charCodeAt(0);var u="#.*:$-_!@|%";return(v>64&&v<91)||(v>96&&v<123)||(v>47&&v<58)||u.indexOf(w)!=-1}i.push(function(v,u){return h("utils").replaceCounter(v,u.counter,u.maxCount)});return{parse:function(w,v){v=v||{};var u=a(w);if(v.contextNode){u._name=v.contextNode.name;var x={};s.each(u._attributes,function(y){x[y.name]=y});s.each(v.contextNode.attributes,function(y){if(y.name in x){x[y.name].value=y.value}else{y=s.clone(y);u._attributes.push(y);x[y.name]=y}})}s.each(e,function(y){y(u,v)});u=r(b(u));s.each(c,function(y){y(u,v)});return u},AbbreviationNode:k,addPreprocessor:function(u){if(!s.include(e,u)){e.push(u)}},removeFilter:function(u){preprocessor=s.without(e,u)},addPostprocessor:function(u){if(!s.include(c,u)){c.push(u)}},removePostprocessor:function(u){c=s.without(c,u)},addOutputProcessor:function(u){if(!s.include(i,u)){i.push(u)}},removeOutputProcessor:function(u){i=s.without(i,u)},isAllowedChar:function(u){u=String(u);return d(u)||~">+^[](){}".indexOf(u)}}});emmet.define("utils",function(c,b){var d="${0}";function a(e){this._data=[];this.length=0;if(e){this.append(e)}}a.prototype={append:function(e){this._data.push(e);this.length+=e.length},toString:function(){return this._data.join("")},valueOf:function(){return this.toString()}};return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:function(e){return this.reTag.test(e)},isNumeric:function(e){if(typeof(e)=="string"){e=e.charCodeAt(0)}return(e&&e>47&&e<58)},trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var f=c("resources");if(!f){return"\n"}var e=f.getVariable("newline");return b.isString(e)?e:"\n"},setNewline:function(f){var e=c("resources");e.setVariable("newline",f);e.setVariable("nl",f)},splitByLines:function(h,g){var f=this.getNewline();var e=(h||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,f).split(f);if(g){e=b.filter(e,function(i){return i.length&&!!this.trim(i)},this)}return e},normalizeNewline:function(e){return this.splitByLines(e).join(this.getNewline())},repeatString:function(h,g){var e=[];for(var f=0;f<g;f++){e.push(h)}return e.join("")},getStringsPads:function(f){var g=b.map(f,function(h){return b.isString(h)?h.length:+h});var e=b.max(g);return b.map(g,function(h){var i=e-h;return i?this.repeatString(" ",i):""},this)},padString:function(l,k){var h=(b.isNumber(k))?this.repeatString(c("resources").getVariable("indentation")||"\t",k):k;var e=[];var g=this.splitByLines(l);var f=this.getNewline();e.push(g[0]);for(var i=1;i<g.length;i++){e.push(f+h+g[i])}return e.join("")},zeroPadString:function(h,g){var f="";var e=h.length;while(g>e++){f+="0"}return f+h},unindentString:function(h,g){var e=this.splitByLines(h);for(var f=0;f<e.length;f++){if(e[f].search(g)==0){e[f]=e[f].substr(g.length)}}return e.join(this.getNewline())},replaceUnescapedSymbol:function(l,h,g){var k=0;var o=l.length;var j=h.length;var n=0;while(k<o){if(l.charAt(k)=="\\"){k+=j+1}else{if(l.substr(k,j)==h){var e=j;n++;var f=g;if(b.isFunction(g)){var m=g(l,h,k,n);if(m){e=m[0].length;f=m[1]}else{f=false}}if(f===false){k++;continue}l=l.substring(0,k)+f+l.substring(k+e);o=l.length;k+=f.length}else{k++}}}return l},replaceVariables:function(h,f){f=f||{};var g=b.isFunction(f)?f:function(j,i){return i in f?f[i]:null};var e=c("resources");return c("tabStops").processText(h,{variable:function(i){var j=g(i.token,i.name,i);if(j===null){j=e.getVariable(i.name)}if(j===null||b.isUndefined(j)){j=i.token}return j}})},replaceCounter:function(i,h,f){var g="$";i=String(i);h=String(h);if(/^\-?\d+$/.test(h)){h=+h}var e=this;return this.replaceUnescapedSymbol(i,g,function(s,o,t,r){if(s.charAt(t+1)=="{"||e.isNumeric(s.charAt(t+1))){return false}var q=t+1;while(s.charAt(q)=="$"&&s.charAt(q+1)!="{"){q++}var n=q-t;var k=0,p=false,l;if(l=s.substr(q).match(/^@(\-?)(\d*)/)){q+=l[0].length;if(l[1]){p=true}k=parseInt(l[2]||1)-1}if(p&&f&&b.isNumber(h)){h=f-h+1}h+=k;return[s.substring(t,q),e.zeroPadString(h+"",n)]})},matchesTag:function(e){return this.reTag.test(e||"")},escapeText:function(e){return e.replace(/([\$\\])/g,"\\$1")},unescapeText:function(e){return e.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return b.isFunction(d)?d.apply(this,arguments):d},setCaretPlaceholder:function(e){d=e},getLinePadding:function(e){return(e.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(e,g){var f=this.findNewlineBounds(e,g);return this.getLinePadding(f.substring(e))},escapeForRegexp:function(f){var e=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return f.replace(e,"\\$&")},prettifyNumber:function(e,f){return e.toFixed(typeof f=="undefined"?2:f).replace(/\.?0+$/,"")},stringBuilder:function(e){return new a(e)},replaceSubstring:function(g,f,h,e){if(b.isObject(h)&&"end" in h){e=h.end;h=h.start}if(b.isString(e)){e=h+e.length}if(b.isUndefined(e)){e=h}if(h<0||h>g.length){return g}return g.substring(0,h)+f+g.substring(e)},narrowToNonSpace:function(h,i,e){var f=c("range").create(i,e);var g=/[\s\n\r\u00a0]/;while(f.start<f.end){if(!g.test(h.charAt(f.start))){break}f.start++}while(f.end>f.start){f.end--;if(!g.test(h.charAt(f.end))){f.end++;break}}return f},findNewlineBounds:function(l,n){var e=l.length,m=0,f=e-1;for(var h=n-1;h>0;h--){var k=l.charAt(h);if(k=="\n"||k=="\r"){m=h+1;break}}for(var g=n;g<e;g++){var k=l.charAt(g);if(k=="\n"||k=="\r"){f=g;break}}return c("range").create(m,f-m)},deepMerge:function(){var n,g,e,f,l,m,k=arguments[0]||{},j=1,h=arguments.length;if(!b.isObject(k)&&!b.isFunction(k)){k={}}for(;j<h;j++){if((n=arguments[j])!=null){for(g in n){e=k[g];f=n[g];if(k===f){continue}if(f&&(b.isObject(f)||(l=b.isArray(f)))){if(l){l=false;m=e&&b.isArray(e)?e:[]}else{m=e&&b.isObject(e)?e:{}}k[g]=this.deepMerge(m,f)}else{if(f!==undefined){k[g]=f}}}}}return k}}});emmet.define("handlerList",function(c,b){function a(){this._list=[]}a.prototype={add:function(e,d){this._list.push(b.extend({order:0},d||{},{fn:e}))},remove:function(d){this._list=b.without(this._list,b.find(this._list,function(e){return e.fn===d}))},list:function(){return b.sortBy(this._list,"order").reverse()},listFn:function(){return b.pluck(this.list(),"fn")},exec:function(f,e){e=e||[];var d=null;b.find(this.list(),function(g){d=g.fn.apply(g,e);if(d!==f){return true}});return d}};return{create:function(){return new a()}}});emmet.define("stringStream",function(b,a){function c(d){this.pos=this.start=0;this.string=d}c.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(d){var f=this.string.charAt(this.pos),e;if(typeof d=="string"){e=f==d}else{e=f&&(d.test?d.test(f):d(f))}if(e){++this.pos;return f}},eatWhile:function(d){var e=this.pos;while(this.eat(d)){}return this.pos>e},eatSpace:function(){var d=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>d},skipToEnd:function(){this.pos=this.string.length},skipTo:function(d){var e=this.string.indexOf(d,this.pos);if(e>-1){this.pos=e;return true}},skipToPair:function(e,h){var g=0,f;var i=this.pos,d=this.string.length;while(i<d){f=this.string.charAt(i++);if(f==e){g++}else{if(f==h){g--;if(g<1){this.pos=i;return true}}}}return false},backUp:function(d){this.pos-=d},match:function(g,e,d){if(typeof g=="string"){var h=d?function(i){return i.toLowerCase()}:function(i){return i};if(h(this.string).indexOf(h(g),this.pos)==this.pos){if(e!==false){this.pos+=g.length}return true}}else{var f=this.string.slice(this.pos).match(g);if(f&&e!==false){this.pos+=f[0].length}return f}},current:function(){return this.string.slice(this.start,this.pos)}};return{create:function(d){return new c(d)}}});emmet.define("resources",function(b,k){var m="system";var l="user";var a={};var i=/^<(\w+\:?[\w\-]*)((?:\s+[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/;var e={};var c={};var j=b("handlerList").create();function g(o){var n=b("utils");return n.replaceUnescapedSymbol(o,"|",n.getCaretPlaceholder())}function h(n,p,o){p=g(p);if(o=="snippets"){return b("elements").create("snippet",p)}if(o=="abbreviations"){return f(n,p)}}function f(o,q){o=b("utils").trim(o);var p=b("elements");var n;if(n=i.exec(q)){return p.create("element",n[1],n[2],n[4]=="/")}else{return p.create("reference",q)}}function d(n){return n.replace(/:$/,"").replace(/:/g,"-")}return{setVocabulary:function(o,n){a={};if(n==m){e=o}else{c=o}},getVocabulary:function(n){return n==m?e:c},getMatchedResource:function(o,n){return j.exec(null,k.toArray(arguments))||this.findSnippet(n,o.name())},getVariable:function(n){return(this.getSection("variables")||{})[n]},setVariable:function(o,p){var n=this.getVocabulary("user")||{};if(!("variables" in n)){n.variables={}}n.variables[o]=p;this.setVocabulary(n,"user")},hasSyntax:function(n){return n in this.getVocabulary(l)||n in this.getVocabulary(m)},addResolver:function(o,n){j.add(o,n)},removeResolver:function(n){j.remove(n)},getSection:function(n){if(!n){return null}if(!(n in a)){a[n]=b("utils").deepMerge({},e[n],c[n])}var q=a[n],p=k.rest(arguments),o;while(q&&(o=p.shift())){if(o in q){q=q[o]}else{return null}}return q},findItem:function(n,p){var o=this.getSection(n);while(o){if(p in o){return o[p]}o=this.getSection(o["extends"])}},findSnippet:function(p,q,o){if(!p||!q){return null}o=o||[];var s=[q];if(~q.indexOf("-")){s.push(q.replace(/\-/g,":"))}var r=this.getSection(p),n=null;k.find(["snippets","abbreviations"],function(t){var u=this.getSection(p,t);if(u){return k.find(s,function(v){if(u[v]){return n=h(v,u[v],t)}})}},this);o.push(p);if(!n&&r["extends"]&&!k.include(o,r["extends"])){return this.findSnippet(r["extends"],q,o)}return n},fuzzyFindSnippet:function(p,q,u){u=u||0.3;var r=this.getAllSnippets(p);var t=b("string-score");q=d(q);var s=k.map(r,function(w,v){return{key:v,score:t.score(w.nk,q,0.1)}});var n=k.last(k.sortBy(s,"score"));if(n&&n.score>=u){var o=n.key;return r[o].parsedValue}},getAllSnippets:function(p){var r="all-"+p;if(!a[r]){var n=[],s=p;var o=[];do{var q=this.getSection(s);if(!q){break}k.each(["snippets","abbreviations"],function(t){var u={};k.each(q[t]||null,function(x,w){u[w]={nk:d(w),value:x,parsedValue:h(w,x,t),type:t}});n.push(u)});o.push(s);s=q["extends"]}while(s&&!k.include(o,s));a[r]=k.extend.apply(k,n.reverse())}return a[r]}}});emmet.define("profile",function(d,c){var a={};var b={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:false,place_cursor:true,indent:true,inline_break:3,self_closing_tag:"xhtml",filters:"",extraFilters:""};function g(i){c.extend(this,b,i)}g.prototype={tagName:function(i){return h(i,this.tag_case)},attributeName:function(i){return h(i,this.attr_case)},attributeQuote:function(){return this.attr_quotes=="single"?"'":'"'},selfClosing:function(i){if(this.self_closing_tag=="xhtml"){return" /"}if(this.self_closing_tag===true){return"/"}return""},cursor:function(){return this.place_cursor?d("utils").getCaretPlaceholder():""}};function h(j,i){switch(String(i||"").toLowerCase()){case"lower":return j.toLowerCase();case"upper":return j.toUpperCase()}return j}function f(j,i){return a[j.toLowerCase()]=new g(i)}function e(){f("xhtml");f("html",{self_closing_tag:false});f("xml",{self_closing_tag:true,tag_nl:true});f("plain",{tag_nl:false,indent:false,place_cursor:false});f("line",{tag_nl:false,indent:false,extraFilters:"s"})}e();return{create:function(j,i){if(arguments.length==2){return f(j,i)}else{return new g(c.defaults(j||{},b))}},get:function(j,i){if(!j&&i){var k=d("resources").findItem(i,"profile");if(k){j=k}}if(!j){return a.plain}if(j instanceof g){return j}if(c.isString(j)&&j.toLowerCase() in a){return a[j.toLowerCase()]}return this.create(j)},remove:function(i){i=(i||"").toLowerCase();if(i in a){delete a[i]}},reset:function(){a={};e()},stringCase:h}});emmet.define("abbreviationUtils",function(b,a){return{isSnippet:function(c){return b("elements").is(c.matchedResource(),"snippet")},isUnary:function(d){if(d.children.length||d._text||this.isSnippet(d)){return false}var c=d.matchedResource();return c&&c.is_empty},isInline:function(c){return c.isTextNode()||!c.name()||b("tagName").isInlineLevel(c.name())},isBlock:function(c){return this.isSnippet(c)||!this.isInline(c)},isSnippet:function(c){return b("elements").is(c.matchedResource(),"snippet")},hasTagsInContent:function(c){return b("utils").matchesTag(c.content)},hasBlockChildren:function(c){return(this.hasTagsInContent(c)&&this.isBlock(c))||a.any(c.children,function(d){return this.isBlock(d)},this)},insertChildContent:function(g,e,d){d=a.extend({keepVariable:true,appendIfNoChild:true},d||{});var f=false;var c=b("utils");g=c.replaceVariables(g,function(j,i,k){var h=j;if(i=="child"){h=c.padString(e,c.getLinePaddingFromPosition(g,k.start));f=true;if(d.keepVariable){h+=j}}return h});if(!f&&d.appendIfNoChild){g+=e}return g}}});emmet.define("htmlMatcher",function(c,h){var a=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;var i=/^<\/([\w\:\-]+)[^>]*>/;function b(l,k){return{name:k[1],selfClose:!!k[3],range:c("range").create(l,k[0]),type:"open"}}function g(l,k){return{name:k[1],range:c("range").create(l,k[0]),type:"close"}}function f(l,k){return{range:c("range").create(l,h.isNumber(k)?k-l:k[0]),type:"comment"}}function d(n){var l={},k;return{open:function(p){var o=this.matches(p);return o&&o.type=="open"?o:null},close:function(p){var o=this.matches(p);return o&&o.type=="close"?o:null},matches:function(o){var m="p"+o;if(!(m in l)){if(n.charAt(o)=="<"){var p=n.slice(o);if(k=p.match(a)){l[m]=b(o,k)}else{if(k=p.match(i)){l[m]=g(o,k)}else{l[m]=false}}}}return l[m]},text:function(){return n}}}function e(l,m,k){return l.substring(m,m+k.length)==k}function j(l,m){var p=[],t=null;var r=m.text();for(var o=l.range.end,n=r.length;o<n;o++){if(e(r,o,"<!--")){for(var k=o;k<n;k++){if(e(r,k,"-->")){o=k+3;break}}}if(t=m.matches(o)){if(t.type=="open"&&!t.selfClose){p.push(t.name)}else{if(t.type=="close"){if(!p.length){return t.name==l.name?t:null}if(h.last(p)==t.name){p.pop()}else{var s=false;while(p.length&&!s){var q=p.pop();if(q==t.name){s=true}}if(!p.length&&!s){return t.name==l.name?t:null}}}}}}}return{find:function(w,v){var s=c("range");var t=d(w);var q=null,x=null;for(var p=v;p>=0;p--){if(q=t.open(p)){if(q.selfClose){if(q.range.cmp(v,"lt","gt")){break}continue}x=j(q,t);if(x){var l=s.create2(q.range.start,x.range.end);if(l.contains(v)){break}}else{if(q.range.contains(v)){break}}q=null}else{if(e(w,p,"-->")){for(var n=p-1;n>=0;n--){if(e(w,n,"-->")){break}else{if(e(w,n,"<!--")){p=n;break}}}}else{if(e(w,p,"<!--")){var n=p+4,o=w.length;for(;n<o;n++){if(e(w,n,"-->")){n+=3;break}}q=f(p,n);break}}}}if(q){var m=null;var k=null;if(x){m=s.create2(q.range.start,x.range.end);k=s.create2(q.range.end,x.range.start)}else{m=k=s.create2(q.range.start,q.range.end)}if(q.type=="comment"){var u=m.substring(w);k.start+=u.length-u.replace(/^<\!--\s*/,"").length;k.end-=u.length-u.replace(/\s*-->$/,"").length}return{open:q,close:x,type:q.type=="comment"?"comment":"tag",innerRange:k,innerContent:function(){return this.innerRange.substring(w)},outerRange:m,outerContent:function(){return this.outerRange.substring(w)},range:!k.length()||!k.cmp(v,"lte","gte")?m:k,content:function(){return this.range.substring(w)},source:w}}},tag:function(l,m){var k=this.find(l,m);if(k&&k.type=="tag"){return k}}}});emmet.define("tabStops",function(d,c){var e=100;var b=0;var a={replaceCarets:false,escape:function(f){return"\\"+f},tabstop:function(f){return f.token},variable:function(f){return f.token}};d("abbreviationParser").addOutputProcessor(function(l,i,h){var g=0;var j=d("tabStops");var f=d("utils");var k={tabstop:function(n){var o=parseInt(n.group);if(o==0){return"${0}"}if(o>g){g=o}if(n.placeholder){var m=o+b;var p=j.processText(n.placeholder,k);return"${"+m+":"+p+"}"}else{return"${"+(o+b)+"}"}}};l=j.processText(l,k);l=f.replaceVariables(l,j.variablesResolver(i));b+=g+1;return l});return{extract:function(m,k){var h=d("utils");var g={carets:""};var l=[];k=c.extend({},a,k,{tabstop:function(p){var o=p.token;var n="";if(p.placeholder=="cursor"){l.push({start:p.start,end:p.start+o.length,group:"carets",value:""})}else{if("placeholder" in p){g[p.group]=p.placeholder}if(p.group in g){n=g[p.group]}l.push({start:p.start,end:p.start+o.length,group:p.group,value:n})}return o}});if(k.replaceCarets){m=m.replace(new RegExp(h.escapeForRegexp(h.getCaretPlaceholder()),"g"),"${0:cursor}")}m=this.processText(m,k);var j=h.stringBuilder(),f=0;var i=c.map(l,function(p){j.append(m.substring(f,p.start));var o=j.length;var n=g[p.group]||"";j.append(n);f=p.end;return{group:p.group,start:o,end:o+n.length}});j.append(m.substring(f));return{text:j.toString(),tabstops:c.sortBy(i,"start")}},processText:function(l,o){o=c.extend({},a,o);var g=d("utils").stringBuilder();var n=d("stringStream").create(l);var f,h,j;while(f=n.next()){if(f=="\\"&&!n.eol()){g.append(o.escape(n.next()));continue}j=f;if(f=="$"){n.start=n.pos-1;if(h=n.match(/^[0-9]+/)){j=o.tabstop({start:g.length,group:n.current().substr(1),token:n.current()})}else{if(h=n.match(/^\{([a-z_\-][\w\-]*)\}/)){j=o.variable({start:g.length,name:h[1],token:n.current()})}else{if(h=n.match(/^\{([0-9]+)(:.+?)?\}/,false)){n.skipToPair("{","}");var i={start:g.length,group:h[1],token:n.current()};var k=i.token.substring(i.group.length+2,i.token.length-1);if(k){i.placeholder=k.substr(1)}j=o.tabstop(i)}}}}g.append(j)}return g.toString()},upgrade:function(h,i){var g=0;var f={tabstop:function(j){var k=parseInt(j.group);if(k>g){g=k}if(j.placeholder){return"${"+(k+i)+":"+j.placeholder+"}"}else{return"${"+(k+i)+"}"}}};c.each(["start","end","content"],function(j){h[j]=this.processText(h[j],f)},this);return g},variablesResolver:function(h){var g={};var f=d("resources");return function(j,l){if(l=="child"){return j}if(l=="cursor"){return d("utils").getCaretPlaceholder()}var i=h.attribute(l);if(!c.isUndefined(i)&&i!==j){return i}var k=f.getVariable(l);if(k){return k}if(!g[l]){g[l]=e++}return"${"+g[l]+":"+l+"}"}},resetTabstopIndex:function(){b=0;e=100}}});emmet.define("preferences",function(d,c){var b={};var h={};var e=null;var g=null;function a(i){if(c.isString(i)){i=i.toLowerCase();return i=="yes"||i=="true"||i=="1"}return !!i}function f(i){return c.isObject(i)&&"value" in i&&c.keys(i).length<3}return{define:function(j,l,k){var i=j;if(c.isString(j)){i={};i[j]={value:l,description:k}}c.each(i,function(n,m){h[m]=f(n)?n:{value:n}})},set:function(j,k){var i=j;if(c.isString(j)){i={};i[j]=k}c.each(i,function(m,l){if(!(l in h)){throw'Property "'+l+'" is not defined. You should define it first with `define` method of current module'}if(m!==h[l].value){switch(typeof h[l].value){case"boolean":m=a(m);break;case"number":m=parseInt(m+"",10)||0;break;default:m+=""}b[l]=m}else{if(l in b){delete b[l]}}})},get:function(i){if(i in b){return b[i]}if(i in h){return h[i].value}return void 0},getArray:function(i){var j=this.get(i);if(!c.isUndefined(j)){j=c.map(j.split(","),d("utils").trim);if(!j.length){j=null}}return j},getDict:function(j){var i={};c.each(this.getArray(j),function(l){var k=l.split(":");i[k[0]]=k[1]});return i},description:function(i){return i in h?h[i].description:void 0},remove:function(i){if(!c.isArray(i)){i=[i]}c.each(i,function(j){if(j in b){delete b[j]}if(j in h){delete h[j]}})},list:function(){return c.map(c.keys(h).sort(),function(i){return{name:i,value:this.get(i),type:typeof h[i].value,description:h[i].description}},this)},load:function(i){c.each(i,function(k,j){this.set(j,k)},this)},exportModified:function(){return c.clone(b)},reset:function(){b={}},_startTest:function(){e=h;g=b;h={};b={}},_stopTest:function(){h=e;b=g}}});emmet.define("elements",function(d,c){var f={};var b=/([\w\-]+)\s*=\s*(['"])(.*?)\2/g;var a={add:function(h,g){var i=this;f[h]=function(){var j=g.apply(i,arguments);if(j){j.type=h}return j}},get:function(g){return f[g]},create:function(i){var h=[].slice.call(arguments,1);var g=this.get(i);return g?g.apply(this,h):null},is:function(h,g){return h&&h.type===g}};function e(g){return{data:g}}a.add("element",function(h,j,k){var i={name:h,is_empty:!!k};if(j){i.attributes=[];if(c.isArray(j)){i.attributes=j}else{if(c.isString(j)){var g;while(g=b.exec(j)){i.attributes.push({name:g[1],value:g[3]})}}else{c.each(j,function(m,l){i.attributes.push({name:l,value:m})})}}}return i});a.add("snippet",e);a.add("reference",e);a.add("empty",function(){return{}});return a});emmet.define("filters",function(c,b){var e={};var a="html";function d(f){if(!f){return[]}if(b.isString(f)){return f.split(/[\|,]/g)}return f}return{add:function(f,g){e[f]=g},apply:function(f,i,h){var g=c("utils");h=c("profile").get(h);b.each(d(i),function(k){var j=g.trim(k.toLowerCase());if(j&&j in e){f=e[j](f,h)}});return f},composeList:function(f,g,i){g=c("profile").get(g);var h=d(g.filters||c("resources").findItem(f,"filters")||a);if(g.extraFilters){h=h.concat(d(g.extraFilters))}if(i){h=h.concat(d(i))}if(!h||!h.length){h=d(a)}return h},extractFromAbbreviation:function(f){var g="";f=f.replace(/\|([\w\|\-]+)$/,function(i,h){g=h;return""});return[f,d(g)]}}});emmet.exec(function(d,l){var h="%s";var o=d("preferences");o.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation.");o.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");function k(p){if(l.include(o.getArray("format.noIndentTags")||[],p.name())){return""}return d("resources").getVariable("indentation")}function a(p){return p.parent&&d("abbreviationUtils").hasBlockChildren(p.parent)}function n(p){return p.parent&&!p.parent.parent&&!p.index()}function e(r,q){var p=d("abbreviationUtils");if(q.tag_nl===true||p.isBlock(r)){return true}if(!r.parent||!q.inline_break){return false}return g(r.parent,q)}function j(q,p){return q.children.length&&e(q.children[0],p)}function g(s,r){var q=0;var p=d("abbreviationUtils");return !!l.find(s.children,function(t){if(t.isTextNode()||!p.isInline(t)){q=0}else{if(p.isInline(t)){q++}}if(q>=r.inline_break){return true}})}function f(p){return !p.parent}function m(q,p,r){q.start=q.end="";if(!n(q)&&p.tag_nl!==false&&e(q,p)){if(f(q.parent)||!d("abbreviationUtils").isInline(q.parent)){q.start=d("utils").getNewline()+q.start}}return q}function i(r,q){var p=d("abbreviationUtils");var s=l.any(r.children,function(t){if(p.isSnippet(t)){return false}return !p.isInline(t)});if(!s){return g(r,q)}return true}function c(w,t,q){w.start=w.end=h;var v=d("utils");var x=d("abbreviationUtils");var r=x.isUnary(w);var p=v.getNewline();var s=k(w);if(t.tag_nl!==false){var u=t.tag_nl===true&&(t.tag_nl_leaf||w.children.length);if(!u){u=l.include(o.getArray("format.forceIndentationForTags")||[],w.name())}if(!w.isTextNode()){if(e(w,t)){if(!n(w)&&(!x.isSnippet(w.parent)||w.index())){w.start=p+w.start}if(x.hasBlockChildren(w)||j(w,t)||(u&&!r)){w.end=p+w.end}if(x.hasTagsInContent(w)||(u&&!w.children.length&&!r)){w.start+=p+s}}else{if(x.isInline(w)&&a(w)&&!n(w)){w.start=p+w.start}else{if(x.isInline(w)&&i(w,t)){w.end=p+w.end}}}w.padding=s}}return w}d("filters").add("_format",function b(p,r,s){s=s||0;var q=d("abbreviationUtils");l.each(p.children,function(t){if(q.isSnippet(t)){m(t,r,s)}else{c(t,r,s)}b(t,r,s+1)});return p})});emmet.exec(function(b,a){function c(h,g){var f=g.attributeQuote();var i=g.cursor();return a.map(h.attributeList(),function(j){var k=g.attributeName(j.name);return" "+k+"="+f+(j.value||i)+f}).join("")}function e(p,j,f){if(!p.parent){return p}var q=b("abbreviationUtils");var m=b("utils");var n=c(p,j);var o=j.cursor();var i=q.isUnary(p);var g="";var k="";if(!p.isTextNode()){var h=j.tagName(p.name());if(i){g="<"+h+n+j.selfClosing()+">";p.end=""}else{g="<"+h+n+">";k="</"+h+">"}}var l="%s";p.start=m.replaceSubstring(p.start,g,p.start.indexOf(l),l);p.end=m.replaceSubstring(p.end,k,p.end.indexOf(l),l);if(!p.children.length&&!i&&!~p.content.indexOf(o)&&!b("tabStops").extract(p.content).tabstops.length){p.start+=o}return p}b("filters").add("html",function d(f,h,i){i=i||0;var g=b("abbreviationUtils");if(!i){f=b("filters").apply(f,"_format",h)}a.each(f.children,function(j){if(!g.isSnippet(j)){e(j,h,i)}d(j,h,i+1)});return f})});function zen(g,e){var f=emmet.expandAbbreviation(g);if(e!==undefined){for(var d in e){var b=e[d];for(var c=b.length;c>=0;c--){f=f.replace(new RegExp(d+(c+1),"g"),b[c])}}}return f}function $zen(){return $(zen.apply(this,arguments))};